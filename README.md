# WebAPIDogLoader
DogLoader

Сервис позволяет производить загрузку изображений собак в Redis хранилище. Загрузка изображений производится из сервиса <https://dog.ceo/dog-api/>. Сервис демонстрирует пример реализации web API приложения ASP.NET Core на основе .NET 6.0.

Возможности:

- Обработка входящих POST запросов;
- Обращение к стороннему API;
- Хранение данных в Redis;
- Обработка JSON.

Фреймворки и библиотеки:

Сервис использует следующие библиотеки и платформы для реализации функций, описанных выше:

- Newtonsoft.Json (для обработки JSON)
- StackExchange.Redis (для хранения данных в Redis)
- Swashbuckle.AspNetCore (для описания и документирования разработанного API)

Способ тестирования:

В сервис добавлен Swagger API для визуализации и тестирования всех маршрутов API. Для вызова страницы описания, необходимо запустить приложение и перейти к /swagger, чтобы просмотреть документацию по API. Тестирование можно производить с помощью таких инструментов, как Postman и прочие. 

Прежде всего, необходимо клонировать этот репозиторий и развернуть локально. Кроме того, для запуска проекта необходимо установить Redis и указать строку подключения к нему в файле appsettings. После восстановите все зависимости и запустите проект. 

Ниже представлен вариант тестирования проекта в Postman.

Для старта загрузки сделайте POST-запрос по адресу <https://localhost:7096/DogLoader>, указав в теле сообщения тело сообщения:

{

`  `"command": "run",

`  `"count": 5

}

В ответ будет получено JSON-сообщение следующего вида:

{

`    `"status": "ok"

}

При повторной отправке запроса, если загрузка ещё не завершена, будет получено сообщение:

{

`    `"count": 93,

`    `"status": "run"

}

Второй вариант отправки POST-запроса по адресу https://localhost:7096/dogLoader/byBreed, используется для загрузки изображений по породе. Для старта необходимо указать в теле сообщения:

{

`  `"command": "run",

`  `"count": 5,

`  `"breed": "bulldog"

}

В ответ будут получены сообщения подобные представленным выше.

